{
  "name": "collections/common",
  "version": 2,
  "description": "Simple ad-hoc sets for the Japanese collection. Each set has id/label/description and a `kanji` array of values. Sets act like tags; words may appear in multiple sets.",
  "setsSchema": {
    "summary": "Schema and usage notes for objects inside the `sets` array.",
    "fields": [
      {
        "key": "id",
        "type": "string",
        "required": true,
        "description": "Unique set identifier."
      },
      {
        "key": "label",
        "type": "string",
        "description": "Human-readable label."
      },
      {
        "key": "description",
        "type": "string",
        "description": "Longer description of the set."
      },
      {
        "key": "kanji",
        "type": "array[string]",
        "description": "Legacy: explicit list of kanji/terms. Still supported for backward compatibility."
      },
      {
        "key": "kanjiFilter",
        "type": "array[string]",
        "description": "New: array of filter expressions used to select entries (AND semantics). See `kanjiFilterSyntax` below."
      }
    ],
    "kanjiFilterSyntax": {
      "description": "Filter expressions are strings and are combined with logical AND. Filters match top-level entry properties only (e.g., 'type', 'verbType', 'ending', 'reading').",
      "operators": [
        {
          "syntax": "field=value",
          "meaning": "Exact string equality (e.g., type=godan-verb)."
        },
        {
          "syntax": "field.startsWith[val]",
          "meaning": "Field string starts with the given value (e.g., reading.startsWith[ひ])."
        },
        {
          "syntax": "field.endsWith[val]",
          "meaning": "Field string ends with the given value (e.g., ending=gu can also be written as ending.endsWith[gu])."
        },
        {
          "syntax": "field.in[val1,val2,...]",
          "meaning": "Match if the field equals any of the comma-separated values (OR semantics). Values are treated literally — useful for compact lists like kanji.in[一,二,三]."
        }
      ],
      "examples": [
        "[\"type=godan-verb\"]",
        "[\"type=godan-verb\", \"verbType=compound\"]",
        "[\"reading.startsWith[ひ]\"]",
        "[\"type=ichidan-verb\", \"compoundType=compositional\"]",
        "[\"kanji.in[一,二,三]\"]"
      ],
      "notes": "Nested-field access (e.g. example.ja) and substring 'contains' are not supported. Values are coerced to strings for matching. If a set defines both 'kanji' and 'kanjiFilter', 'kanjiFilter' takes precedence and a rebuild warning will be emitted."
    }
  },
  "sets": [
    {
      "id": "linguistic_terms",
      "label": "Linguistic Terms",
      "description": "Common morphological, phonological, and orthographic terms used in the Japanese collections.",
      "kanjiFilter": [
        "kanji.in[た形,て形,ない形,ます形,ら抜き言葉,意向形,一段動詞,音読み,仮定形,仮名,可能形,活用,活用形,漢字,訓読み,五段動詞,語幹,語尾,自動詞,辞書形,清音,送り仮名,促音,他動詞,濁音,単独,単独の漢字,長音,半濁音,平仮名,片仮名,命令形,拗音,撥音]"
      ]
    },
    {
      "id": "common_katakana_nouns",
      "label": "Common Katakana Nouns",
      "description": "High-frequency katakana nouns (loanwords / wasei-eigo).",
      "kanjiFilter": [
        "kanji.in[アイスクリーム,アプリ,イス,エレベーター,カード,ガス,カラー,クッキー,クラス,ケーキ,ゲーム,コート,コンビニ,コンピューター,サービス,サイズ,サイト,サラダ,サンドイッチ,シャワー,ジュース,ショップ,スーパー,スープ,ステーキ,スポーツ,スマートフォン,セール,ソース,ソファ,ソフト,タオル,チーズ,チーム,チップ,データ,テーブル,デザート,デザイン,テスト,ドア,トイレ,ネット,バス,パソコン,バター,パン,ハンバーガー,ビル,ブランド,プレー,ベッド,ポイント,ボタン,ホテル,ミス,ミルク,メール,メニュー,メンバー,ライト,リーダー,リンク,ルール,レストラン]"
      ]
    },
    {
      "id": "common_kanji_nouns",
      "label": "Common Kanji Nouns",
      "description": "High-frequency everyday kanji compound nouns related to activities and daily life.",
      "kanjiFilter": [
        "kanji.in[お釣り,飲食,運転,荷物,会議,会話,確認,学習,休業,休憩,空想,語学,出生,書き込み,食事,切手,電話,読書,入学,年越し,買い物,売買,半分,勉強,命名]"
      ]
    },
    {
      "id": "places_objects_navigation",
      "label": "Places • Objects • Navigation",
      "description": "Physical locations, rooms, objects, and directional or infrastructure terms.",
      "kanjiFilter": [
        "kanji.in[かばん,右,遠く,下,画面,会場,階段,外,角,眼鏡,規則,居間,近く,近所,靴,契約,建物,鍵,後ろ,交通,向こう,左,左右,傘,事故現場,時計,手続き,受付,周り,充電,渋滞,出口,順番,上,上着,場所,寝室,申込,設定,洗面所,前,中,注意書き,庭,電池,電話番号,道具,入口,番号札,番号順,部品,風呂,服,方向,法律,帽子,領収書,隣,列,廊下,携帯,携帯電話,身分証,水道,番号,料金]"
      ]
    },
    {
      "id": "abstract_concepts",
      "label": "Abstract Concepts",
      "description": "Ideas, qualities, measurements, reasoning, and intangible notions.",
      "kanjiFilter": [
        "kanji.in[案内,以下,以上,意見,環境,希望,気持ち,空気,形,経験,計算,結果,原因,考え,高さ,最後,最初,自然,終了,重さ,色,心,数字,成長,大きさ,値段,長さ,途中,努力,匂い,幅,変化,味,夢,無料,目標,約束,理由書,規則,法律,順番,方向]"
      ]
    },
    {
      "id": "daily_life_actions",
      "label": "Daily Life • Processes • Activities",
      "description": "Common activities, meals, administrative processes, and communication.",
      "kanjiFilter": [
        "kanji.in[飲み物,開始,終了,準備,書類,場合,説明,相談,昼食,注文,朝食,夕食,料理,練習,連絡,手続き,受付,申込,設定,充電,渋滞,注意書き,携帯,携帯電話,身分証,料金,番号,交通,会場]"
      ]
    },
    {
      "id": "anime_ui",
      "label": "Anime / Manga Vocabulary",
      "description": "High-frequency kanji commonly seen in anime, manga, and light novels.",
      "kanjiFilter": [
        "kanji.in[戦い,戦争,世界,運命,力,能力,魔法,魔王,勇者,王,王国,国,軍,兵士,剣,刀,銃,技,必殺技,最強,敵,味方,仲間,伝説,秘密,真実,記憶,過去,未来,現在,時間,空間,心,精神,魂,命,死,生,闇,光,影,神,悪魔,天使,竜,城,村,町,都市,学校,先生,生徒,組織,事件,任務,危機,希望,絶望,復讐,約束,運,勝利,敗北,開始,終了,変身,進化,覚醒,支配,解放,選択,結界,封印,契約]"
      ]
    },
    {
      "id": "youtube_app",
      "label": "YouTube App UI",
      "description": "Common labels, buttons, filters, and settings used in the YouTube mobile app.",
      "kanjiFilter": [
        "kanji.in[登録,登録済み,通知,履歴,共有,保存,報告,概要,説明,表示,次,前,自動再生,字幕,設定,画質,速度,標準,全画面,検索,並び替え,関連動画,おすすめ,急上昇,音楽,ゲーム,ニュース,ライブ,公開,非公開,限定公開,確認,編集,削除,追加,送信,返信,固定,通報,利用規約,プライバシー,アカウント,ログイン,ログアウト,切替,言語,地域,制限,接続,更新,読み込み]"
      ]
    },
    {
      "id": "phone_settings",
      "label": "Phone Settings / Controls",
      "description": "Common kanji used in smartphone system settings and control menus.",
      "kanjiFilter": [
        "kanji.in[設定,音量,音,通知,着信音,画面,明るさ,自動回転,壁紙,電池,充電,省電力,残量,通信,機内,無線,接続,位置,情報,安全,認証,指紋,顔,暗証,番号,権限,管理,保存,削除,更新,言語,地域,日付,時刻,入力,辞書,同期,共有,印刷,初期化,復元,制限,補助,拡大,字幕]"
      ]
    },
    {
      "id": "auto__pokemon_types",
      "label": "Pokémon Types (auto)",
      "description": "Auto-generated from collections/pokemon/pokemon_starters.json unique entries.type values.",
      "autoGenerated": true,
      "source": {
        "collection": "collections/pokemon/pokemon_starters.json",
        "field": "entries[].type[]"
      },
      "kanjiFilter": [
        "kanji.in[ゴースト,ドラゴン,炎,格闘,岩,鋼,水,草,地面,虫,超能力,通常,電気,毒,飛行,氷,妖精]"
      ]
    },
    {
      "id": "auto__pokemon_japaneseNameRoots",
      "label": "Pokémon Name Roots (auto)",
      "description": "Auto-generated from collections/pokemon/pokemon_starters.json unique entries.japaneseNameRoots values.",
      "autoGenerated": true,
      "source": {
        "collection": "collections/pokemon/pokemon_starters.json",
        "field": "entries[].japaneseNameRoots[]"
      },
      "kanjiFilter": [
        "kanji.in[EV,インセクト,ウインド,エレクトリック,オウム,オウムガイ,ガード,カイロス,カラ,ガラ,カンガルー,キャタピラー,ギャロップ,キング,クイーン,クラブ,ケーシー,ゲンガー,ケンタウロス,コイル,ゴー,ゴースト,ゴール,ゴールド,ゴーレム,コクーン,ゴロゴロ,サイ,サンダー,サンド,シー,シェル,シャワー,ジュゴン,スター,ストライク,ズバ,スピア,スリープ,セル,ダグ,ダック,チュウ,ツー,ディグ,ドードー,ドラゴン,トランス,トリオ,ドリル,ドン,ナッツ,ニードル,ニャー,ニョロ,パール,パウ,バタフライ,バット,パラサイト,バリア,パン,ビートル,ピカ,ピクシー,ピッ,ビリビリ,ファイヤー,ブー,ブースト,フーディーニ,プク,プス,プテラノドン,フリーズ,プリン,ベトベト,ペルシャ,ベロ,ホーン,ポット,ポニー,ポリゴン,マイン,また,ミニ,ミュー,メタモルフォーゼ,モルフォ,モンキー,もんじゃ,ユンゲラー,ラッキー,ラット,ラプラス,ラフレシア,リザード,ルージュ,レア,ワン,猿,王,火,花,怪竜,怪力,海月,海老原,兜,鴨,丸,岩,鬼,亀,逆鱗,玉,九,狐,鯉,甲羅,紺,子,蛇,種,臭い,宿,人手,雀,星,石,銭,草,沢村,土佐金,怒り,東,毒,毒ガス,謎,葱,白,鳩,不思議,砲,未だ,目,雷,竜,力,六,鬱,礫,蕾,蜥蜴,黴]"
      ]
    },
    {
      "id": "ordinals",
      "label": "Ordinals (第〜)",
      "description": "Common ordinal forms using 第 (第一、第二…) and other ordinal expressions.",
      "kanjiFilter": [
        "kanji.in[第一,第二,第三,第四,第五,第十]"
      ]
    },
    {
      "id": "formal_numerals",
      "label": "Formal / Financial Numerals",
      "description": "Traditional formal kanji used in legal, financial, and anti-fraud contexts (壱、弐、参、拾など).",
      "kanjiFilter": [
        "kanji.in[壱,弐,参,拾,阡,萬]"
      ]
    },
    {
      "id": "fractional_numerals",
      "label": "Fractional & Approximate Numerals",
      "description": "Common fractional and approximate number words (半, 分, 両, 割など).",
      "kanjiFilter": [
        "kanji.in[半,分,両,割,程]"
      ]
    },
    {
      "id": "native_tsu_numerals",
      "label": "Native 'つ' Counting (一つ〜十)",
      "description": "The traditional native Japanese counting set used with つ (一つ、二つ、三つ…).",
      "kanjiFilter": [
        "kanji.in[一つ,二つ,三つ,四つ,五つ,六つ,七つ,八つ,九つ,十]"
      ]
    },
    {
      "id": "jp_godan_compound_compositional",
      "label": "Japanese Compound Verbs — godan — compositional",
      "description": "Productive compound verbs built transparently from parts; final element is godan.",
      "kanjiFilter": [
        "type=godan-verb",
        "verbType=compound",
        "compoundType=compositional"
      ],
      "kanjiCount": 10
    },
    {
      "id": "jp_godan_compound_grammaticalized",
      "label": "Japanese Compound Verbs — godan — grammaticalized",
      "description": "Common compounds where the final godan element is grammaticalized (mutual/auxiliary-like).",
      "kanjiFilter": [
        "type=godan-verb",
        "verbType=compound",
        "compoundType=grammaticalized"
      ],
      "kanjiCount": 10
    },
    {
      "id": "jp_godan_compound_hybrid",
      "label": "Japanese Compound Verbs — godan — hybrid",
      "description": "Frequent hybrid compound verbs (partly productive, partly conventionalized); final element is godan.",
      "kanjiFilter": [
        "type=godan-verb",
        "verbType=compound",
        "compoundType=hybrid"
      ],
      "kanjiCount": 10
    },
    {
      "id": "jp_godan_compound_lexical",
      "label": "Japanese Compound Verbs — godan — lexical",
      "description": "Curated frequent lexicalized compound verbs whose final element is godan.",
      "kanjiFilter": [
        "type=godan-verb",
        "verbType=compound",
        "compoundType=lexical"
      ],
      "kanjiCount": 10
    },
    {
      "id": "jp_ichidan_compound_compositional",
      "label": "Japanese Compound Verbs — ichidan — compositional",
      "description": "Productive ichidan compound verbs built transparently from parts; final element is ichidan.",
      "kanjiFilter": [
        "type=ichidan-verb",
        "verbType=compound",
        "compoundType=compositional"
      ],
      "kanjiCount": 10
    },
    {
      "id": "jp_ichidan_compound_grammaticalized",
      "label": "Japanese Compound Verbs — ichidan — grammaticalized",
      "description": "Ichidan compounds where the final element is grammaticalized (auxiliary-like or polite/functional uses).",
      "kanjiFilter": [
        "type=ichidan-verb",
        "verbType=compound",
        "compoundType=grammaticalized"
      ],
      "kanjiCount": 10
    },
    {
      "id": "verbs_ichidan",
      "label": "Ichidan Verbs",
      "description": "All entries classified as ichidan verbs (一段動詞).",
      "kanjiFilter": [
        "type=ichidan-verb"
      ]
    },
    {
      "id": "verbs_godan",
      "label": "Godan Verbs",
      "description": "All entries classified as godan verbs (五段動詞).",
      "kanjiFilter": [
        "type=godan-verb"
      ]
    },
    {
      "id": "verbs_godan_gu",
      "label": "Godan Verbs — ending 〜ぐ (gu)",
      "description": "Godan verbs whose dictionary-form ending is ぐ (e.g., 泳ぐ).",
      "kanjiFilter": [
        "type=godan-verb",
        "ending=gu"
      ]
    },
    {
      "id": "reading_startswith_hi",
      "label": "Readings starting with ひ",
      "description": "Entries whose `reading` field starts with the hiragana ひ.",
      "kanjiFilter": [
        "reading.startsWith[ひ]"
      ]
    },
    {
      "id": "kanji_state_focus",
      "label": "Kanji — focus",
      "description": "Kanji currently marked as focus in shell.kanji_progress.",
      "kanjiFilter": [
        "kanji_progress.state=focus"
      ]
    },
    {
      "id": "kanji_state_learned",
      "label": "Kanji — learned",
      "description": "Kanji currently marked as learned in shell.kanji_progress.",
      "kanjiFilter": [
        "kanji_progress.state=learned"
      ]
    },
    {
      "id": "kanji_seen",
      "label": "Kanji — seen",
      "description": "Kanji that have been seen (shell.kanji_progress.seen = true).",
      "kanjiFilter": [
        "kanji_progress.seen=true"
      ]
    },
    {
      "id": "kanji_seen_unlearned",
      "label": "Kanji — seen, not learned",
      "description": "Kanji seen but not marked learned (seen=true and state!=learned).",
      "kanjiFilter": [
        "kanji_progress.seen=true",
        "kanji_progress.state!=learned"
      ]
    }
  ]
}
